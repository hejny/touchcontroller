{"version":3,"sources":["webpack:///webpack/bootstrap 4747625c92d6eba38722","webpack:///./src/index.ts","webpack:///./src/TouchController.ts","webpack:///./src/VectorTouch.ts","webpack:///./src/Vector2.ts","webpack:///./src/Touch.ts","webpack:///./src/AbstractClassWithSubscribe.ts","webpack:///./src/listeners/index.ts","webpack:///./src/listeners/TouchListener.ts","webpack:///./src/listeners/MouseListener.ts"],"names":[],"mappings":"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","file":"touchcontroller.browser.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 4747625c92d6eba38722","import TouchController from './TouchController';\nimport listeners from './listeners';\nimport Vector2 from './Vector2';\n\nexport {\n    TouchController,\n    listeners,\n    Vector2\n};\n\n\n// WEBPACK FOOTER //\n// ./src/index.ts","import VectorTouch from './VectorTouch';\nimport Touch from './Touch';\nimport IListener from './listeners/IListener';\nimport AbstractClassWithSubscribe from './AbstractClassWithSubscribe';\n\nexport interface IEvent {\n    clientX: number;\n    clientY: number;\n}\n\nexport default class TouchController extends AbstractClassWithSubscribe<\"START\" | \"MOVE\" | \"END\", Touch> {\n\n    public ongoingTouches: Touch[] = [];\n\n    constructor(public element: HTMLElement) {\n        super();\n    }\n\n    //todo dispose\n\n    addListener(listener: IListener) {\n        listener.setListeners(this);//todo array of listeners\n    }\n\n    touchStart(id: string, type: 'TOUCH' | 'MOUSE', event: IEvent) {\n        const touch = new Touch(\n            id,\n            type,\n            this._createVectorFromEvent(event)\n        );\n        this.ongoingTouches.push(touch);\n        this.callSubscribers('START', touch);\n    }\n\n    touchMove(id: string, end: boolean, event: IEvent) {\n        const index = this._ongoingTouchIndexById(id);\n        if (index !== -1) {\n            const touch = this.ongoingTouches[index];\n            touch.move(this._createVectorFromEvent(event), end);\n            if (end) {\n                this.ongoingTouches.splice(index, 1);\n                this.callSubscribers('END', touch);\n            } else {\n                this.callSubscribers('MOVE', touch);\n            }\n        } else {\n            //console.warn(`Can't find touch with id \"${id}\".`);\n        }\n    }\n\n    private _createVectorFromEvent(event: IEvent) {\n        return new VectorTouch(\n            this,\n            event.clientX - this.element.offsetLeft,\n            event.clientY - this.element.offsetTop,\n            performance.now()\n        );\n    }\n\n    private _ongoingTouchIndexById(idToFind: string): number {\n        for (let i = 0; i < this.ongoingTouches.length; i++) {\n            const id = this.ongoingTouches[i].id;\n\n            if (id === idToFind) {\n                return i;\n            }\n        }\n        return -1;\n    }\n\n}\n\n\n// WEBPACK FOOTER //\n// ./src/TouchController.ts","import Vector2 from './Vector2';\nimport TouchController from './TouchController';\n\nexport default class VectorTouch extends Vector2 {\n    constructor(private _touchController: TouchController,\n                x: number,\n                y: number,\n                public t: number) {\n        super(x, y);\n    }\n\n    to1(): Vector2 {\n        return new Vector2(\n            this.x / this._touchController.element.clientWidth,\n            this.y / this._touchController.element.clientHeight\n        );\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/VectorTouch.ts","export default class Vector2 {\n    constructor(public x: number,\n                public y: number) {\n    }\n\n    static Zero() {\n        return new Vector2(0, 0);\n    }\n\n    clone(): Vector2 {\n        return new Vector2(\n            this.x,\n            this.y\n        );\n    }\n\n    add(vector2: Vector2): Vector2 {\n        return new Vector2(\n            this.x + vector2.x,\n            this.y + vector2.y\n        );\n    }\n\n    subtract(vector2: Vector2): Vector2 {\n        return new Vector2(\n            this.x - vector2.x,\n            this.y - vector2.y\n        );\n    }\n\n    scale(scale: number): Vector2 {\n        return new Vector2(\n            this.x * scale,\n            this.y * scale\n        );\n    }\n\n    length(vector2: Vector2 = Vector2.Zero()): number {\n        return Math.sqrt(\n            Math.pow(this.x - vector2.x, 2) +\n            Math.pow(this.y - vector2.y, 2)\n        )\n    }\n\n    toArray(): [number, number] {\n        return [this.x, this.y];\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/Vector2.ts","import AbstractClassWithSubscribe from './AbstractClassWithSubscribe';\nimport TimeVector2 from './VectorTouch';\n\nexport default class Touche extends AbstractClassWithSubscribe<\"MOVE\" | \"END\", TimeVector2> {\n\n    private _finished: boolean = false;\n    public positions: TimeVector2[];\n\n    constructor(public id: string,\n                public type: 'TOUCH' | 'MOUSE',\n                firstPosition: TimeVector2) {\n        super();\n        this.positions = [firstPosition];\n    }\n\n    move(newPoint: TimeVector2, end = false) {\n        this.positions.push(newPoint);\n        if (!end) {\n            this.callSubscribers('MOVE', newPoint);\n        } else {\n            this._finished = true;\n            this.callSubscribers('END', newPoint);\n        }\n    }\n\n    get firstPosition() {\n        return this.positions[0];\n    }\n\n    get start() {\n        return this.firstPosition.t;\n    }\n\n    get finished() {\n        return this._finished;\n    }\n\n}\n\n\n// WEBPACK FOOTER //\n// ./src/Touch.ts","export default class AbstractClassWithSubscribe<TEvent,TValue>{\n\n    private _subscribers: {event: TEvent; callback: ((newValue: TValue) => void)}[] = [];\n\n    subscribe(event:TEvent/*maybe multiple events TEvent[]*/, callback: (newValue: TValue) => void) {\n        this._subscribers.push({\n            event,\n            callback\n        });\n    }\n\n    //todo unsubscribe\n\n    callSubscribers(event:TEvent, newValue: TValue){\n        this._subscribers\n            .filter((subscriber) => subscriber.event === event)\n            .forEach((subscriber) => subscriber.callback(newValue));\n    }\n\n}\n\n\n// WEBPACK FOOTER //\n// ./src/AbstractClassWithSubscribe.ts","import TouchListener from './TouchListener';\nimport MouseListener from './MouseListener';\n\nexport default {\n    TouchListener,\n    MouseListener\n};\n\n\n// WEBPACK FOOTER //\n// ./src/listeners/index.ts","import IListener from './IListener';\nimport TouchController from '../TouchController';\n\nexport default class TouchListener implements IListener {\n\n    private _touchController: TouchController;\n\n    setListeners(touchController: TouchController) {\n        this._touchController = touchController;\n        touchController.element.addEventListener(\n            \"touchstart\",\n            (event) => this._handleTouchStart(event),\n            false\n        );\n        touchController.element.addEventListener(\n            \"touchend\",\n            (event) => this._handleTouchEnd(true, event),\n            false\n        );\n        touchController.element.addEventListener(\n            \"touchcancel\",\n            (event) => this._handleTouchEnd(false, event),\n            false\n        );\n        //todo element.addEventListener(\"touchleave\", (event)=>this._handleTouchEnd(true,event), false);\n        touchController.element.addEventListener(\n            \"touchmove\",\n            (event) => this._handleTouchMove(event),\n            false\n        );\n    }\n\n    unsetListeners() {\n        //todo\n    }\n\n    private _handleTouchStart(event: TouchEvent) {\n        event.preventDefault();\n        const touches = event.changedTouches;\n        for (let i = 0, l = touches.length; i < l; i++) {\n            this._touchController.touchStart('touch' + touches[i].identifier, 'TOUCH', touches[i]);\n        }\n    }\n\n    private _handleTouchMove(event: TouchEvent) {\n        event.preventDefault();\n        const touches = event.changedTouches;\n        for (let i = 0, l = touches.length; i < l; i++) {\n            this._touchController.touchMove('touch' + touches[i].identifier, false, touches[i]);\n        }\n    }\n\n    private _handleTouchEnd(callSubscribers: boolean, event: TouchEvent) {\n        event.preventDefault();\n        const touches = event.changedTouches;\n        for (let i = 0, l = touches.length; i < l; i++) {\n            this._touchController.touchMove('touch' + touches[i].identifier, callSubscribers, touches[i]);\n        }\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/listeners/TouchListener.ts","import IListener from './IListener';\nimport TouchController from '../TouchController';\n\nexport default class TouchListener implements IListener {\n\n    private _touchController: TouchController;\n\n    constructor(private _preventContextMenu = true) {\n    }\n\n    setListeners(touchController: TouchController) {\n        this._touchController = touchController;\n        touchController.element.addEventListener(\n            \"mousedown\",\n            (event) => this._handleMouseDown(event),\n            false\n        );\n        touchController.element.addEventListener(\n            \"mousemove\",\n            (event) => this._handleMouseMove(event),\n            false\n        );\n        touchController.element.addEventListener(\n            \"mouseup\",\n            (event) => this._handleMouseUp(true, event),\n            false\n        );\n        touchController.element.addEventListener(\n            \"mouseleave\",\n            (event) => this._handleMouseUp(true, event),\n            false\n        );\n\n        if (this._preventContextMenu) {\n            touchController.element.addEventListener(\"contextmenu\", (event) => {\n                event.preventDefault();\n                event.stopPropagation();\n            }, false);\n        }\n    }\n\n    unsetListeners() {\n        //todo\n    }\n\n    private _handleMouseDown(event: MouseEvent) {\n        event.preventDefault();\n        this._touchController.touchStart('mouse' + event.button, 'MOUSE', event);\n    }\n\n    private _handleMouseMove(event: MouseEvent) {\n        event.preventDefault();\n        this._touchController.touchMove('mouse' + event.button, false, event);\n    }\n\n\n    private _handleMouseUp(callSubscribers: boolean, event: MouseEvent) {\n        event.preventDefault();\n        this._touchController.touchMove('mouse' + event.button, callSubscribers, event);\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/listeners/MouseListener.ts"],"sourceRoot":""}
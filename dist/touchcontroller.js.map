{"version":3,"sources":["webpack:///webpack/bootstrap e969c1744b9adf112871","webpack:///./src/index.ts","webpack:///./src/TouchController.ts","webpack:///./src/VectorTouch.ts","webpack:///./src/Vector2.ts","webpack:///./src/AbstractClassWithSubscribe.ts","webpack:///./src/listeners/index.ts","webpack:///./src/listeners/TouchListener.ts","webpack:///./src/Touch.ts","webpack:///./src/listeners/MouseListener.ts"],"names":[],"mappings":"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","file":"touchcontroller.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap e969c1744b9adf112871","import TouchController from './TouchController';\nimport listeners from './listeners';\n\nexport {\n    TouchController,\n    listeners\n};\n\n\n// WEBPACK FOOTER //\n// ./src/index.ts","import VectorTouch from './VectorTouch';\nimport Touch from './Touch';\nimport IListener from './listeners/IListener';\nimport AbstractClassWithSubscribe from './AbstractClassWithSubscribe';\n\n\nexport default class TouchController extends AbstractClassWithSubscribe<\"START\" | \"MOVE\" | \"END\", Touch> {\n\n    public ongoingTouches: Touch[] = [];\n\n    constructor(public element: HTMLElement) {\n        super();\n    }\n\n    //todo dispose\n\n    addListener(listener: IListener){\n        listener.setListeners(this);//todo array of listeners\n    }\n\n    touchStart(touch: Touch) {//todo first point\n        this.ongoingTouches.push(touch);\n        this.callSubscribers('START', touch);\n    }\n\n    touchMove(id: string, end: boolean, event: { clientX: number, clientY: number }) {\n        const index = this._ongoingTouchIndexById(id);\n        if (index !== -1) {\n            const touch = this.ongoingTouches[index];\n            touch.move(new VectorTouch(\n                this,\n                event.clientX,\n                event.clientY,\n                performance.now()\n            ),end);\n            if (end) {\n                this.ongoingTouches.splice(index, 1);\n                this.callSubscribers('END', touch);\n            }else{\n                this.callSubscribers('MOVE', touch);\n            }\n        } else {\n            //console.warn(`Can't find touch with id \"${id}\".`);\n        }\n    }\n\n    private _ongoingTouchIndexById(idToFind: string): number {\n        for (let i = 0; i < this.ongoingTouches.length; i++) {\n            const id = this.ongoingTouches[i].id;\n\n            if (id === idToFind) {\n                return i;\n            }\n        }\n        return -1;\n    }\n\n}\n\n\n// WEBPACK FOOTER //\n// ./src/TouchController.ts","import Vector2 from './Vector2';\nimport TouchController from './TouchController';\n\nexport default class VectorTouch extends Vector2 {\n    constructor(private _touchController: TouchController,\n                x: number,\n                y: number,\n                public t: number) {\n        super(x, y);\n    }\n\n    to1(): Vector2 {\n        return new Vector2(\n            this.x / this._touchController.element.clientWidth,\n            this.y / this._touchController.element.clientHeight\n        );\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/VectorTouch.ts","export default class Vector2 {\n    constructor(public x: number,\n                public y: number) {\n    }\n\n    static Zero() {\n        return new Vector2(0, 0);\n    }\n\n    add(vector3: Vector2): Vector2 {\n        return new Vector2(\n            this.x + vector3.x,\n            this.y + vector3.y\n        );\n    }\n\n    subtract(vector3: Vector2): Vector2 {\n        return new Vector2(\n            this.x - vector3.x,\n            this.y - vector3.y\n        );\n    }\n\n    scale(scale: number): Vector2 {\n        return new Vector2(\n            this.x * scale,\n            this.y * scale\n        );\n    }\n\n    length(vector2: Vector2 = Vector2.Zero()): number {\n        return Math.sqrt(\n            Math.pow(this.x - vector2.x, 2) +\n            Math.pow(this.y - vector2.y, 2)\n        )\n    }\n\n    toArray(): [number, number] {\n        return [this.x, this.y];\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/Vector2.ts","export default class AbstractClassWithSubscribe<TEvent,TValue>{\n\n    private _subscribers: {event: TEvent; callback: ((newValue: TValue) => void)}[] = [];\n\n    subscribe(event:TEvent/*maybe multiple events TEvent[]*/, callback: (newValue: TValue) => void) {\n        this._subscribers.push({\n            event,\n            callback\n        });\n    }\n\n    //todo unsubscribe\n\n    callSubscribers(event:TEvent, newValue: TValue){\n        this._subscribers\n            .filter((subscriber) => subscriber.event === event)\n            .forEach((subscriber) => subscriber.callback(newValue));\n    }\n\n}\n\n\n// WEBPACK FOOTER //\n// ./src/AbstractClassWithSubscribe.ts","import TouchListener from './TouchListener';\nimport MouseListener from './MouseListener';\n\nexport default {\n    TouchListener,\n    MouseListener\n};\n\n\n// WEBPACK FOOTER //\n// ./src/listeners/index.ts","import IListener from './IListener';\nimport TouchController from '../TouchController';\nimport Touch from '../Touch';\n\nexport default class TouchListener implements IListener {\n\n    private _touchController: TouchController;\n\n    setListeners(touchController: TouchController){\n        this._touchController = touchController;\n        touchController.element.addEventListener(\n            \"touchstart\",\n            (event) => this._handleTouchStart(event),\n            false\n        );\n        touchController.element.addEventListener(\n            \"touchend\",\n            (event) => this._handleTouchEnd(true, event),\n            false\n        );\n        touchController.element.addEventListener(\n            \"touchcancel\",\n            (event) => this._handleTouchEnd(false, event),\n            false\n        );\n        //todo element.addEventListener(\"touchleave\", (event)=>this._handleTouchEnd(true,event), false);\n        touchController.element.addEventListener(\n            \"touchmove\",\n            (event) => this._handleTouchMove(event),\n            false\n        );\n    }\n\n    unsetListeners(){\n        //todo\n    }\n\n    private _handleTouchStart(event: TouchEvent) {\n        event.preventDefault();\n        const touches = event.changedTouches;\n        for (let i = 0, l = touches.length; i < l; i++) {\n            this._touchController.touchStart(new Touch(\n                'touch' + touches[i].identifier,\n                'TOUCH'\n            ));\n        }\n    }\n\n    private _handleTouchMove(event: TouchEvent) {\n        event.preventDefault();\n        const touches = event.changedTouches;\n        for (let i = 0, l = touches.length; i < l; i++) {\n            this._touchController.touchMove('touch' + touches[i].identifier, false, touches[i]);\n        }\n    }\n\n    private _handleTouchEnd(callSubscribers: boolean, event: TouchEvent) {\n        event.preventDefault();\n        const touches = event.changedTouches;\n        for (let i = 0, l = touches.length; i < l; i++) {\n            this._touchController.touchMove('touch' + touches[i].identifier, callSubscribers, touches[i]);\n        }\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/listeners/TouchListener.ts","import AbstractClassWithSubscribe from './AbstractClassWithSubscribe';\nimport TimeVector2 from './VectorTouch';\n\nexport default class Touche extends AbstractClassWithSubscribe<\"MOVE\" | \"END\", TimeVector2> {\n\n    private _finished: boolean = false;\n\n    constructor(public id: string,\n                public type: 'TOUCH' | 'MOUSE',\n                public points: TimeVector2[] = []) {\n        super();\n    }\n\n    move(newPoint: TimeVector2, end = false) {\n        this.points.push(newPoint);\n        if (!end) {\n            this.callSubscribers('MOVE', newPoint);\n        } else {\n            this._finished = true;\n            this.callSubscribers('END', newPoint);\n        }\n    }\n\n    get start() {\n        return this.points[0].t;\n    }\n\n    get finished() {\n        return this._finished;\n    }\n\n}\n\n\n// WEBPACK FOOTER //\n// ./src/Touch.ts","import IListener from './IListener';\nimport TouchController from '../TouchController';\nimport Touch from '../Touch';\n\nexport default class TouchListener implements IListener {\n\n    private _touchController: TouchController;\n\n    constructor(private _preventContextMenu = true) {\n    }\n\n    setListeners(touchController: TouchController) {\n        this._touchController = touchController;\n        touchController.element.addEventListener(\n            \"mousedown\",\n            (event) => this._handleMouseDown(event),\n            false\n        );\n        touchController.element.addEventListener(\n            \"mousemove\",\n            (event) => this._handleMouseMove(event),\n            false\n        );\n        touchController.element.addEventListener(\n            \"mouseup\",\n            (event) => this._handleMouseUp(true, event),\n            false\n        );\n        touchController.element.addEventListener(\n            \"mouseleave\",\n            (event) => this._handleMouseUp(true, event),\n            false\n        );\n\n        if (this._preventContextMenu) {\n            touchController.element.addEventListener(\"contextmenu\", (event) => {\n                event.preventDefault();\n                event.stopPropagation();\n            }, false);\n        }\n    }\n\n    unsetListeners() {\n        //todo\n    }\n\n    private _handleMouseDown(event: MouseEvent) {\n        event.preventDefault();\n        this._touchController.touchStart(new Touch(\n            'mouse' + event.button,\n            'MOUSE'\n        ));\n    }\n\n    private _handleMouseMove(event: MouseEvent) {\n        event.preventDefault();\n        this._touchController.touchMove('mouse' + event.button, false, event);\n    }\n\n\n    private _handleMouseUp(callSubscribers: boolean, event: MouseEvent) {\n        event.preventDefault();\n        this._touchController.touchMove('mouse' + event.button, callSubscribers, event);\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/listeners/MouseListener.ts"],"sourceRoot":""}